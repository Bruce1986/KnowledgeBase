# LangChain èˆ‡ Model Context Protocolï¼ˆMCPï¼‰å·®ç•°æ¯”è¼ƒ

## ä¸€ã€åŸºæœ¬å®šç¾©èˆ‡èƒŒæ™¯

| é …ç›® | LangChain | Model Context Protocol (MCP) |
|------|-----------|------------------------------|
| å®šç¾© | ä¸€å€‹é–‹æºæ¡†æ¶ï¼Œç”¨ä¾†å»ºæ§‹ä»¥ LLM ç‚ºæ ¸å¿ƒçš„æ‡‰ç”¨ï¼Œæä¾›æ¨¡çµ„å¦‚è¨˜æ†¶é«”ã€ä»£ç†äººã€RAG ç­‰ | ä¸€ç¨®ç”± Anthropic æå‡ºçš„æ¨™æº–å”å®šï¼Œå®šç¾©å¦‚ä½•å°‡æ¨¡å‹ä¸Šä¸‹æ–‡ç®¡ç†çµæ§‹åŒ–è™•ç† |
| ç™¼å±•ä¸»é«” | LangChain åœ˜éšŠï¼Œç¤¾ç¾¤é©…å‹• | Anthropicï¼ˆClaude æ¨¡å‹é–‹ç™¼å•†ï¼‰ |
| ç™¼è¡¨æ™‚é–“ | 2022 å¹´èµ·æ´»èº | 2024 å¹´ç™¼è¡¨ï¼ˆåˆæ­¥è‰æ¡ˆï¼‰ |
| æœ¬è³ª | é–‹ç™¼æ¡†æ¶ / SDK | æ¨¡å‹è¼¸å…¥è¨­è¨ˆæ¨™æº–ï¼ˆProtocolï¼‰ |

---

## äºŒã€åŠŸèƒ½èˆ‡ç”¨é€”æ¯”è¼ƒ

| åŠŸèƒ½ | LangChain | MCP |
|------|-----------|-----|
| é–‹ç™¼å·¥å…· | âœ… å¯ç›´æ¥ä½¿ç”¨ï¼ˆPython/TSï¼‰ | âŒ ç‚ºå”å®šï¼Œéœ€è‡ªè¡Œå¯¦ä½œ |
| è¨˜æ†¶é«”ç®¡ç† | âœ… æä¾› Memory æ¨¡çµ„ | âœ… è¦ç¯„ context è¨˜æ†¶æ ¼å¼ |
| æª¢ç´¢å¼·åŒ–ç”Ÿæˆï¼ˆRAGï¼‰ | âœ… æœ‰å…§å»ºæ•´åˆ | âœ… å¯å®šç¾© retrieved_context å€å¡Š |
| å¤šè¼ªå°è©±æ”¯æ´ | âœ… ConversationChain | âœ… ä½¿ç”¨ conversation_history å€æ®µ |
| Agent èˆ‡å·¥å…·éˆ | âœ… Agent + Tools æ”¯æ´ | âŒ MCP ä¸è™•ç† Agent |
| Prompt ç®¡ç† | âœ… ç”±ç¨‹å¼æ§åˆ¶ | âœ… çµæ§‹åŒ–å€æ®µå¼è¨­è¨ˆï¼ˆJSON æˆ–é¡ä¼¼æ ¼å¼ï¼‰ |

---

## ä¸‰ã€è¨­è¨ˆå“²å­¸èˆ‡æ€ç¶­å·®ç•°

| æ€ç¶­å±¤æ¬¡ | LangChain | MCP |
|----------|-----------|-----|
| æ¨¡å‹è§’è‰² | å¯çµ„åˆçš„å·¥å…· | ä¸Šä¸‹æ–‡ç†è§£å™¨ |
| é–‹ç™¼å°å‘ | å·¥ç¨‹å°å‘ï¼šæ¨¡çµ„çµ„è£ | èªæ„å°å‘ï¼šä¸Šä¸‹æ–‡ä¸€è‡´æ€§ |
| Prompt æ¶æ§‹ | ç¨‹å¼é‚è¼¯æ§åˆ¶ | åˆ†æ®µçµæ§‹ã€èªæ„æ¨™è¨» |
| é©åˆå ´æ™¯ | é–‹ç™¼ SaaSã€RAG å·¥å…·ã€Agentç³»çµ± | é•·ä¸Šä¸‹æ–‡ã€å¤šæ¨¡æ…‹è¼¸å…¥ã€Claudeæœ€ä½³åŒ–æ‡‰ç”¨ |

---

## å››ã€MCP è¨­è¨ˆå€æ®µç¯„ä¾‹

MCP çš„ä¸Šä¸‹æ–‡åˆ†ç‚ºä»¥ä¸‹å¹¾å€‹å€æ®µï¼š

- `user_file`ï¼šç”¨æˆ¶ä¸Šå‚³çš„åŸå§‹è³‡æ–™
- `conversation_history`ï¼šæ­·å²å°è©±è¨˜éŒ„
- `instructions`ï¼šç›®å‰ä»»å‹™ç›®æ¨™
- `retrieved_context`ï¼šä¾†è‡ªæª¢ç´¢å¼•æ“çš„å…§å®¹
- `tool_results`ï¼šå¤–éƒ¨å·¥å…·æŸ¥è©¢çµæœï¼ˆå¦‚ç¶²é ã€APIï¼‰
- `scratchpad`ï¼šä»£ç†äººæ€è€ƒéç¨‹ã€æš«å­˜ä¸­ç¹¼æ¨ç†

é€™äº›å¯ä»¥çµ„æˆå¦‚ä»¥ä¸‹ JSON æ§‹é€ ï¼Œä½œç‚ºæ¨¡å‹ inputï¼š

```json
{
  "conversation_history": [...],
  "instructions": "...",
  "retrieved_context": [...],
  "tool_results": [...],
  "scratchpad": "..."
}
```

---

## äº”ã€ä½¿ç”¨å»ºè­°èˆ‡é¸æ“‡æ™‚æ©Ÿ

| ä½¿ç”¨æƒ…å¢ƒ | å»ºè­°æ¡ç”¨ |
|----------|-----------|
| å¿«é€Ÿé–‹ç™¼åŸå‹ã€æ•´åˆå‘é‡è³‡æ–™åº« | âœ… LangChain |
| Claude å°ˆæ¡ˆéœ€ç©©å®šé•·ä¸Šä¸‹æ–‡è¼¸å‡º | âœ… MCP |
| å»ºæ§‹é«˜å½ˆæ€§ AI å·¥å…·å¹³å° | âœ… LangChain |
| è¨­è¨ˆ prompt æ¨™æº–ã€åœ˜éšŠå¤šäººå”ä½œ | âœ… MCP |
| æ­é… GPT-4 å¤šæ¨¡æ…‹æ‡‰ç”¨ | âš ï¸ MCP é‚„åœ¨ç™¼å±•ä¸­ï¼Œå¯åšç‚ºåŸå‰‡åƒè€ƒ |

---

## å…­ã€å¯æ­é…ä½¿ç”¨çš„æ–¹å¼

MCP èˆ‡ LangChain ä¸¦éäº’æ–¥ï¼Œå¯æ­é…ä½¿ç”¨ï¼š
- ç”¨ MCP è¨­è¨ˆ prompt æ ¼å¼ â†’ å‚³å…¥ LangChain agent chain ä¸­
- ç”± LangChain æ§åˆ¶æµç¨‹ â†’ ä¿æŒ prompt çµæ§‹ç¬¦åˆ MCP å”å®š
- å»ºç«‹è·¨æ¨¡å‹ã€è·¨èªè¨€ä¸€è‡´è¼¸å…¥æ ¼å¼ï¼Œæå‡ä¸Šä¸‹æ–‡ç©©å®šæ€§èˆ‡è¼¸å‡ºå“è³ª

---

## ä¸ƒã€å»¶ä¼¸ä»»å‹™å»ºè­°

ä½ å¯ä»¥é€²ä¸€æ­¥åšçš„äº‹æƒ…åŒ…æ‹¬ï¼š

1. âœ… å»ºç«‹ä¸€å€‹ç¬¦åˆ MCP å”å®šçš„ prompt wrapperï¼ˆé©ç”¨ GPT / Claudeï¼‰
2. âœ… æ’°å¯« LangChain å…ƒä»¶å°è£ MCP prompt å»ºæ§‹å™¨
3. âœ… æ•´åˆ Claude RAG with MCP æ ¼å¼ï¼š`retrieved_context` â†’ JSONæ ¼å¼ + metadata
4. âœ… è¨­è¨ˆ prompt è¨“ç·´æ‰‹å†Šï¼šæ¨™æº–åŒ– input æ ¼å¼èˆ‡èªæ„æ¬„ä½

---

> ğŸ“‚ æœ¬æ–‡ç‚ºçŸ¥è­˜åº«æ¢ç›®ï¼šã€ŒLangChain èˆ‡ MCP å·®ç•°è§£æã€
> æ›´æ–°æ™‚é–“ï¼š2025-04  
> å»ºè­°åˆ†é¡ï¼š`AI Framework`ã€`Prompt Engineering`ã€`Multimodal LLM`
